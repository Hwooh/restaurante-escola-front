<div class='page-header'>
	<div>
		<h2>Turmas</h2>
		<h3>Listagem de todas as turmas</h3>
	</div>
	<div>
		<button mat-flat-button color="primary" class="header-button" (click)='createClass()'>Adicionar nova turma</button>
	</div>
</div>

<div class="example-container mat-elevation-z8" style='margin: 32px 0; border-radius: 15px;'>
	<div class="example-loading-shade" *ngIf="loading">
		<mat-spinner></mat-spinner>
	</div>

	<div class="example-table-container" >
		<mat-table [dataSource]="dataSource" class="table-teams" [hidden]="dataSource.filteredData?.length == 0">

			<ng-container matColumnDef="icon">
				<mat-header-cell *matHeaderCellDef> Ações </mat-header-cell>
				<mat-cell *matCellDef="let class">
					<button mat-stroked-button (click)='editClass(class)' class='edit-icon icons-table'><mat-icon>edit</mat-icon></button>
					<button mat-stroked-button (click)='deleteClass(class)' class='edit-icon icons-table'><mat-icon>delete</mat-icon></button>
				</mat-cell>
			</ng-container>
			
			<ng-container matColumnDef="name">
				<mat-header-cell *matHeaderCellDef> Nome </mat-header-cell>
				<mat-cell *matCellDef="let class">
					Turma {{class.numero}}
				</mat-cell>
			</ng-container>

			<ng-container matColumnDef="date">
				<mat-header-cell *matHeaderCellDef class='centered-text'> Período vigente </mat-header-cell>
				<mat-cell *matCellDef="let class" class='centered-text'>
					{{class.inicioTurma | date:'dd/MM/yyyy'}} - {{class.fimTurma | date:'dd/MM/yyyy'}}
				</mat-cell>
			</ng-container>

			<ng-container matColumnDef="numberOfStudents">
				<mat-header-cell *matHeaderCellDef class='centered-text no-padding-right'> Número de alunos </mat-header-cell>
				<mat-cell *matCellDef="let student" class='centered-text no-padding-right'>
					24
				</mat-cell>
			</ng-container>

			<mat-header-row *matHeaderRowDef="displayedColumns;"></mat-header-row>
			<mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
		</mat-table>

		<div *ngIf="dataSource.filteredData?.length === 0" class='no-content'>
			<p>No matches found.</p>
		</div>
	</div>
</div>
